# Piver ğŸ“Œ

ä¸€ä¸ªç”¨äºè¯»å–å’Œç®¡ç†é…ç½®æ–‡ä»¶çš„ Python åº“ï¼Œç±»ä¼¼äº Golang çš„ [spf13/viper](https://github.com/spf13/viper)ã€‚

## æ”¯æŒçš„é…ç½®æ–‡ä»¶ç±»å‹ ğŸ“

âœ… = å¯ç”¨ï¼ŒğŸš§ = å¾…å¼€å‘

* âœ… json
* âœ… yaml
* âœ… **toml**
* ğŸš§ ini
* ğŸš§ hcl
* ğŸš§ envfile
* ğŸš§ java properties
* âœ… *æ¥è‡ªç¯å¢ƒå˜é‡*
* âœ… *æ¥è‡ªå‚æ•°*
* ğŸš§ *æ¥è‡ªç½‘ç»œ*
* ......

## ç‰¹æ€§ âœ¨

### å¼€ç®±å°±å¯ä»¥åƒ

åªéœ€ç®€å•é…ç½®ä¸€ä¸‹å³å¯é£Ÿç”¨ï¼ˆï¼‰ï¼Œå…å»äº†æ‰‹åŠ¨ç¼–å†™è¯»å–é…ç½®æ–‡ä»¶çš„ä»£ç ï¼ŒæŠŠæ—¶é—´å’Œç²¾åŠ›æ›´åŠ ä¸“æ³¨çš„æ”¾åœ¨é¡¹ç›®å¼€å‘ä¸­è€Œä¸æ˜¯èŠ±è´¹åœ¨æ— èŠçš„åœ°æ–¹ã€‚

### è‡ªåŠ¨æœå¯»æœ¬åœ°çš„é…ç½®æ–‡ä»¶å¹¶è£…è½½

Piverå¯ä»¥åœ¨æ‚¨é…ç½®çš„ç›®æ ‡è·¯å¾„é‡Œè‡ªåŠ¨æŸ¥æ‰¾éœ€è¦çš„é…ç½®æ–‡ä»¶å¹¶è£…è½½ï¼Œæ‚¨åœ¨é¡¹ç›®é‡Œå¯ä»¥å¾ˆè½»æ¾çš„ä½¿ç”¨piveræ¥è®¿é—®é…ç½®æ–‡ä»¶æ¡ç›®ã€‚

### é»˜è®¤å€¼æ”¯æŒ

Piverå¯ä»¥åœ¨è·å–é…ç½®é¡¹æ— æœçš„æ—¶å€™ä½¿ç”¨æ‚¨è‡ªå®šä¹‰çš„é»˜è®¤å€¼ã€‚

### ç¯å¢ƒå˜é‡å’Œå‘½ä»¤è¡Œå‚æ•°æ”¯æŒ

piverä¹Ÿå¯ä»¥é€šè¿‡è¯»å–ç¯å¢ƒå˜é‡å’Œå‘½ä»¤è¡Œå‚æ•°è£…è½½é…ç½®æ–‡ä»¶ã€‚

**ä¼˜å…ˆçº§ï¼šå‘½ä»¤è¡Œå‚æ•° > ç¯å¢ƒå˜é‡ > é…ç½®æ–‡ä»¶**

## å®‰è£… ğŸšš

å¦‚æœæ‚¨æƒ³åœ¨ Python é¡¹ç›®ä¸­ä½¿ç”¨ piverï¼Œæ‚¨éœ€è¦å…ˆå®‰è£…å®ƒã€‚

### ä½¿ç”¨ pip å®‰è£…

```bash
pip install piver
```

### ä½¿ç”¨ poetry å®‰è£…

```bash
poetry add piver
```

## ä½¿ç”¨ ğŸ±

Piver æ˜¯å…¨å±€çš„ã€‚ è¿™æ„å‘³ç€æ‚¨æœ€å¥½åœ¨æ•´ä¸ªé¡¹ç›®ç”Ÿå‘½å‘¨æœŸçš„æ—©æœŸåŠ è½½é…ç½®æ–‡ä»¶ï¼Œå¦åˆ™åœ¨é…ç½®æ–‡ä»¶åŠ è½½ä¹‹å‰å°è¯•è·å–é…ç½®é¡¹ç›®å°†æŠ›å‡º ConfigNotInitializedError é”™è¯¯ã€‚

### é…ç½® piver

é¦–å…ˆï¼Œå‘Šè¯‰piveré…ç½®æ–‡ä»¶çš„åŸºæœ¬ä¿¡æ¯ï¼šåç§°ã€æ‰«æçš„ä½ç½®ä»¥åŠæ ¼å¼ã€‚å¦‚æœå‘Šè¯‰äº†å¸¦æœ‰åç¼€åçš„æ–‡ä»¶ç»™viperï¼Œé‚£ä¹ˆæ‚¨å°±ä¸éœ€è¦æ˜¾å¼åœ°å‘Šè¯‰piveræ–‡ä»¶çš„æ ¼å¼ï¼Œå®ƒä¼šè‡ªåŠ¨æ¨æ–­ã€‚

æ¥ç€ä½¿ç”¨`read_in_config()`è¯»å–é…ç½®æ–‡ä»¶

æœ€åä½¿ç”¨`get()`è·å–å†…å®¹ï¼Œå‚æ•°ä¸ºç›®æ ‡é”®çš„å­—ç¬¦ä¸²ï¼Œå±‚çº§ç”¨`.`åˆ†å‰²

```python
import piver

piver.add_config_path(".")     # add current directory to config path
piver.set_config_type("toml")  # set config file type to toml
piver.set_config_name("example")  # set config file name to example
piver.read_in_config()  # read in config file MUST

print(f"Dsn is: {piver.get('database.dsn')}")  # get value of database.dsn

```

## ä½œè€…

é»„å­ç¨‹

lfcypo(Zicheng Huang)
